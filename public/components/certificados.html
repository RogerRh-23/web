<!-- Modal para editar certificado -->
<div class="certificados-modal" id="modalEditarCertificado" style="display:none;">
  <div class="certificados-modal-content">
    <button class="close-modal" id="cerrarModalEditar" title="Cerrar">&times;</button>
    <h3>Editar certificado</h3>
    <form id="formEditarCertificado">
      <label for="edit-nombreOrg">Nombre de la organización</label>
      <input type="text" id="edit-nombreOrg" name="nombreOrg" required>
      <label for="edit-estandar">Estándar</label>
      <input type="text" id="edit-estandar" name="estandar" required>
      <label for="edit-estatus">Estatus</label>
      <select id="edit-estatus" name="estatus" required>
        <option value="Vigente">Vigente</option>
        <option value="Vencido">Vencido</option>
      </select>
      <label for="edit-numeroCertificado">No. Certificado</label>
      <input type="text" id="edit-numeroCertificado" name="numeroCertificado" required>
      <label for="edit-fechaInicio">Fecha de inicio</label>
      <input type="date" id="edit-fechaInicio" name="fechaInicio" required>
      <label for="edit-fechaFin">Fecha de finalización</label>
      <input type="date" id="edit-fechaFin" name="fechaFin" required>
      <label for="edit-alcance">Alcance</label>
      <input type="text" id="edit-alcance" name="alcance" required>
      <label for="edit-sitio">Sitio</label>
      <input type="text" id="edit-sitio" name="sitio" required>
      <label for="edit-sectores">Sectores</label>
      <input type="text" id="edit-sectores" name="sectores" required>
      <button type="submit" class="btn btn-success">Guardar cambios</button>
    </form>
  </div>
</div>
<!-- Modal para agregar certificado -->
<div class="certificados-modal" id="modalAgregarCertificado" style="display:none;">
  <div class="certificados-modal-content">
    <button class="close-modal" id="cerrarModalCertificado" title="Cerrar">&times;</button>
    <h3>Agregar nuevo certificado</h3>
    <form id="formAgregarCertificado">
      <label for="nombreOrg">Nombre de la organización</label>
      <input type="text" id="nombreOrg" name="nombreOrg" required>
      <label for="estandar">Estándar</label>
      <input type="text" id="estandar" name="estandar" required>
      <label for="estatus">Estatus</label>
      <select id="estatus" name="estatus" required>
        <option value="Vigente">Vigente</option>
        <option value="Vencido">Vencido</option>
      </select>
      <label for="numeroCertificado">No. Certificado</label>
      <input type="text" id="numeroCertificado" name="numeroCertificado" required>
      <label for="fechaInicio">Fecha de inicio</label>
      <input type="date" id="fechaInicio" name="fechaInicio" required>
      <label for="fechaFin">Fecha de finalización</label>
      <input type="date" id="fechaFin" name="fechaFin" required>
      <label for="alcance">Alcance</label>
      <input type="text" id="alcance" name="alcance" required>
      <label for="sitio">Sitio</label>
      <input type="text" id="sitio" name="sitio" required>
      <label for="sectores">Sectores</label>
      <input type="text" id="sectores" name="sectores" required>
      <button type="submit" class="btn btn-success">Guardar</button>
    </form>
  </div>
</div>
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Latin America Certification & Systems | Certificados</title>
  <link rel="stylesheet" href="../styles/main.css">
  <link rel="icon" type="image/png" href="../assets/img/LACS-V.png">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>
<body>
  <div id="navbar-placeholder"></div>
  <div id="navbar-mobile-placeholder"></div>
  <main class="main-content-navbar-padding">
    <section class="dynamic-section certificados-section">
      <form class="certificados-search-form" autocomplete="off" style="margin-bottom: 2rem;">
        <div class="form-row" style="display: flex; flex-wrap: wrap; gap: 1.2rem; align-items: flex-end;">
          <div class="form-group" style="flex: 1 1 300px;">
            <label for="search-cert">Buscar por Nombre de Organización o No. de Certificado</label>
            <input type="text" id="search-cert" name="search-cert" class="form-control" placeholder="Ej: LACS S.A. de C.V. o 2024-00123">
          </div>
          <button type="submit" class="btn btn-primary">Buscar</button>
        </div>
      </form>
      <div class="admin-certificados-actions" style="margin-bottom:2rem; display:flex; gap:1rem;">
      <div class="info-box">
        <!-- Vista cliente: información del certificado -->
        <div class="certificado-info">
          <h2 class="certificado-titulo"><i class="bi bi-patch-check-fill" style="color:#1976a5"></i> Certificado</h2>
          <div class="certificado-datos">
            <div><strong>Nombre de la organización:</strong> <span id="cert-org">LACS S.A. de C.V.</span></div>
            <div><strong>Estándar:</strong> <span id="cert-estandar">ISO 9001</span></div>
            <div><strong>Estado/Estatus:</strong> <span id="cert-estado">Vigente</span></div>
            <div><strong>No. de certificado:</strong> <span id="cert-num">2024-00123</span></div>
            <div><strong>Fecha de inicio:</strong> <span id="cert-inicio">2024-01-01</span></div>
            <div><strong>Fecha de finalización:</strong> <span id="cert-fin">2025-01-01</span></div>
            <div><strong>Alcance:</strong> <span id="cert-alcance">Certificación de sistemas de gestión de calidad</span></div>
            <div><strong>Sitio (ubicación):</strong> <span id="cert-sitio">CDMX, México</span></div>
            <div><strong>Sectores:</strong> <span id="cert-sectores">Servicios, Manufactura</span></div>
          </div>
        </div>
      </div>
    </section>
  </main>
  <div id="footer"></div>
  <!-- GSAP Core y Plugins -->
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/CSSRulePlugin.min.js"></script>
  <!-- JS principales del proyecto (ajusta solo si existen en tu estructura) -->
  <script src="../js/gsap.js"></script>
  <!-- navbar-dropdown.js se carga al final del body para asegurar que la navbar ya está en el DOM -->
  <script src="../js/certificados-cliente.js"></script>
  <script src="../js/certificados-admin.js"></script>
  <script>
  // Navbar dinámica (desktop o mobile)
  function loadNavbar() {
    const isMobile = window.innerWidth < 992;
    const navbarPlaceholder = document.getElementById('navbar-placeholder');
    const navbarMobilePlaceholder = document.getElementById('navbar-mobile-placeholder');
    if (isMobile) {
      if (navbarPlaceholder) navbarPlaceholder.innerHTML = '';
      fetch('navbar-mobile.html')
        .then(res => res.text())
        .then(html => {
          html = html.replace(/src=["']\.\/assets\/img\//g, 'src="../assets/img/');
          navbarMobilePlaceholder.innerHTML = html;
          const navMobile = navbarMobilePlaceholder.firstElementChild;
          if (navMobile) {
            navMobile.classList.remove('fixed-top');
            navMobile.classList.add('fixed-bottom');
            navMobile.style.top = 'auto';
            navMobile.style.bottom = '0';
            navMobile.style.width = '100%';
            navMobile.style.zIndex = '1050';
          }
          loadNavbarDropdownScript();
        });
    } else {
      if (navbarMobilePlaceholder) navbarMobilePlaceholder.innerHTML = '';
      fetch('navbar.html')
        .then(res => res.text())
        .then(html => {
          html = html.replace(/src=["']\.\/assets\/img\//g, 'src="../assets/img/');
          navbarPlaceholder.innerHTML = html;
          loadNavbarDropdownScript();
        });
    }
  }
  // Carga dinámica del script navbar-dropdown.js después de insertar la navbar
  function loadNavbarDropdownScript() {
    // Elimina cualquier script previo de navbar-dropdown.js
    document.querySelectorAll('script').forEach(function(s) {
      if (s.src && s.src.includes('navbar-dropdown.js')) s.remove();
    });
    var script = document.createElement('script');
    script.src = '../js/navbar-dropdown.js?v=' + Date.now();
    script.onload = function() {
      if (typeof initDropdowns === 'function') {
        try { initDropdowns(); } catch(e) { console.error('Error al ejecutar initDropdowns:', e); }
      }
    };
    document.body.appendChild(script);
  }
  window.addEventListener('resize', loadNavbar);
  window.addEventListener('DOMContentLoaded', loadNavbar);
  // ...existing code...
  // Footer
  fetch('footer.html')
    .then(res => res.text())
    .then(html => {
      html = html.replace(/src=["']\.\/assets\/img\//g, 'src="../assets/img/');
      document.getElementById('footer').innerHTML = html;
    });
  </script>

  <style>
    @media (max-width: 991.98px) {
      #footer { margin-bottom: 50px !important; }
      .main-content-navbar-padding { padding-top: 0 !important; }
    }
    @media (min-width: 992px) {
      .main-content-navbar-padding { padding-top: 70px; }
    }
</style>
<script src="../js/footer.js"></script>

</body>
</html>
