<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Latin America Certification & Systems</title>
  <link rel="stylesheet" href="./styles/main.css">
  <link rel="icon" type="image/png" href="./assets/img/LACS-V.png">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <style>
    @media (max-width: 991.98px) {
      #footer { margin-bottom: 90px !important; }
      .main-content-navbar-padding { padding-top: 0 !important; }
    }
    @media (min-width: 992px) {
      .main-content-navbar-padding { padding-top: 70px; }
    }
  </style>
</head>
<body>

  <!-- Hero Reveal Overlay -->
  <div class="hero-reveal">
    <div class="hero-reveal-rects">
      <div class="hero-rect" style="left:calc(0 * (100vw / 9 - 1px));width:calc(100vw / 9 + 8px);z-index:1"></div>
      <div class="hero-rect" style="left:calc(1 * (100vw / 9 - 1px));width:calc(100vw / 9 + 8px);z-index:2"></div>
      <div class="hero-rect" style="left:calc(2 * (100vw / 9 - 1px));width:calc(100vw / 9 + 8px);z-index:3"></div>
      <div class="hero-rect" style="left:calc(3 * (100vw / 9 - 1px));width:calc(100vw / 9 + 8px);z-index:4"></div>
      <div class="hero-rect" style="left:calc(4 * (100vw / 9 - 1px));width:calc(100vw / 9 + 8px);z-index:5"></div>
      <div class="hero-rect" style="left:calc(5 * (100vw / 9 - 1px));width:calc(100vw / 9 + 8px);z-index:6"></div>
      <div class="hero-rect" style="left:calc(6 * (100vw / 9 - 1px));width:calc(100vw / 9 + 8px);z-index:7"></div>
      <div class="hero-rect" style="left:calc(7 * (100vw / 9 - 1px));width:calc(100vw / 9 + 8px);z-index:8"></div>
      <div class="hero-rect" style="left:calc(8 * (100vw / 9 - 1px));width:calc(100vw / 9 + 8px);z-index:9"></div>
    </div>
    <div class="hero-reveal-logo-fixed">
      <img class="hero-logo-img" src="./assets/img/LACS-Comp.png" alt="LACS-Comp.png" />
    </div>
    </div>
    <button class="hero-reveal-arrow" id="hero-reveal-arrow" aria-label="Scroll">
      <svg viewBox="0 0 24 24"><path d="M12 16.5c-.3 0-.5-.1-.7-.3l-6-6a1 1 0 1 1 1.4-1.4l5.3 5.3 5.3-5.3a1 1 0 1 1 1.4 1.4l-6 6c-.2.2-.4.3-.7.3z"/></svg>
      <!-- Puedes agregar aquí un texto accesible traducible si lo deseas -->
    </button>
  </div>

  <div id="navbar-placeholder"></div>
  <main class="pt-5" style="min-height: 80vh;">
    <div id="dynamic-content"></div>
    <div class="head-img-container">
      <img class="main-head-img" src="./assets/img/img2.png" alt="img1.png" />
      <div class="lacs-mask"></div>
      <img class="lacs-logo-overlay" src="./assets/img/LACS-Comp.png" alt="LACS-Comp.png" />
    </div>
    <!-- SVG animado y contenedor eliminados -->
    <div id="cards" class="section-gsap"></div>
    <div id="ema" class="section-gsap">
      <div class="ema-container">
        <section class="ema-section">
          <h1 class="section-title" data-i18n="ema.title">Acreditaciones EMA</h1>
          <div class="section-content">
            <div class="ema-96-13">
              <a href="./assets/docs/ACREDITACION ISO 9001  17021-1.pdf" target="_blank" rel="noopener">
                <button>
                  <img src="./assets/img/96-13.png" alt="EMA 96-13" class="ema-logo" />
                </button>
              </a>
              <strong><span class="ema-text" data-i18n="ema.iso9001">Acreditación ISO 9001:2015 Sistemas de Gestion de Calidad</span></strong>
            </div>
            <div class="ema-96-20">
              <a href="./assets/docs/ACREDITACION ISO 27001  17021-1.pdf" target="_blank" rel="noopener">
                <button>
                  <img src="./assets/img/96_20.png" alt="EMA 96-20" class="ema-logo" />
                </button>
              </a>
              <strong><span class="ema-text" data-i18n="ema.iso27001">Acreditación ISO 27001:2013 Sistemas de Gestión de Seguridad de la Información</span></strong>
            </div>
            <div class="ema-96-2IAF">
              <a href="./assets/docs/ACREDITACION ISO 37001.pdf" target="_blank" rel="noopener">
                <button>
                  <img src="./assets/img/96_20IAF.png" alt="EMA 96-20IAF" class="ema-logo" />
                </button>
              </a>
              <strong><span class="ema-text" data-i18n="ema.iso37001">Acreditación ISO 37001:2016 Sistemas de Gestión Antisoborno</span></strong>
            </div>
          </div>
        </section>
      </div>
    </div>
  </main>

  <div id="footer"></div>
  <div id="navbar-mobile-placeholder"></div>

  <!-- GSAP core y plugins -->
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/DrawSVGPlugin.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/CSSRulePlugin.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/SplitText.min.js"></script>
  <!-- i18next y backend CDN -->
  <script src="https://unpkg.com/i18next@23.11.5/dist/umd/i18next.min.js"></script>
  <script src="https://unpkg.com/i18next-xhr-backend@3.2.2/i18nextXHRBackend.min.js"></script>
  <script src="./js/i18n.js"></script>
  <!-- Google Translate eliminado, ahora se usa i18next -->
  <!-- JS principales del proyecto -->
  <script src="./js/gsap.js"></script>
  <script src="./js/hero-reveal.js"></script>
  <script src="./js/hero-reveal-fix.js"></script>
  <script src="./js/ema-gsap.js"></script>
  <script src="./js/lang-switcher.js"></script>
  <script>
    // Cargar navbar desktop y asegurar inicialización de dropdowns
    function loadNavbarDesktop() {
      fetch('./components/navbar.html')
        .then(res => res.text())
        .then(html => {
          document.getElementById('navbar-placeholder').innerHTML = html;
          // Importar el script de dropdowns solo una vez
          if (!window._dropdownScriptLoaded) {
            const script = document.createElement('script');
            script.src = './js/navbar-dropdown.js';
            script.onload = function() {
              window._dropdownScriptLoaded = true;
              if (typeof window.initDropdowns === 'function') {
                console.log('[Dropdown] initDropdowns found after script load (desktop)');
                window.initDropdowns();
              } else {
                console.error('[Dropdown] initDropdowns NOT found after script load (desktop)');
              }
            };
            script.onerror = function() {
              console.error('[Dropdown] Error loading navbar-dropdown.js (desktop)');
            };
            document.body.appendChild(script);
          } else {
            if (typeof window.initDropdowns === 'function') {
              console.log('[Dropdown] initDropdowns found (desktop)');
              window.initDropdowns();
            } else {
              console.error('[Dropdown] initDropdowns NOT found (desktop)');
            }
          }
        });
    }
    loadNavbarDesktop();

    // Cargar navbar mobile solo en dispositivos pequeños
    function isMobile() {
      return window.innerWidth < 992;
    }
    function loadNavbarMobile() {
      const showNavbarMobile = () => {
        fetch('./components/navbar-mobile.html')
          .then(res => res.text())
          .then(html => {
            document.getElementById('navbar-mobile-placeholder').innerHTML = html;
            // Asegurar que el script de dropdowns esté cargado y luego inicializar
            if (window._dropdownScriptLoaded) {
              if (typeof window.initDropdowns === 'function') {
                console.log('[Dropdown] initDropdowns found (mobile)');
                window.initDropdowns();
              } else {
                console.error('[Dropdown] initDropdowns NOT found (mobile)');
              }
            } else {
              const script = document.createElement('script');
              script.src = './js/navbar-dropdown.js';
              script.onload = function() {
                window._dropdownScriptLoaded = true;
                if (typeof window.initDropdowns === 'function') {
                  console.log('[Dropdown] initDropdowns found after script load (mobile)');
                  window.initDropdowns();
                } else {
                  console.error('[Dropdown] initDropdowns NOT found after script load (mobile)');
                }
              };
              script.onerror = function() {
                console.error('[Dropdown] Error loading navbar-dropdown.js (mobile)');
              };
              document.body.appendChild(script);
            }
          });
      };
      const hideNavbarMobile = () => {
        document.getElementById('navbar-mobile-placeholder').innerHTML = '';
      };
      const hero = document.querySelector('.hero-reveal');
      if (isMobile()) {
        if (!hero || getComputedStyle(hero).opacity === '0' || hero.style.display === 'none') {
          showNavbarMobile();
          setTimeout(() => {
            const navMobile = document.getElementById('navbar-mobile-placeholder').firstElementChild;
            if (navMobile) navMobile.style.display = '';
          }, 300);
        } else {
          hideNavbarMobile();
          const observer = new IntersectionObserver(function(entries) {
            if (!entries[0].isIntersecting) {
              showNavbarMobile();
              setTimeout(() => {
                const navMobile = document.getElementById('navbar-mobile-placeholder').firstElementChild;
                if (navMobile) navMobile.style.display = '';
              }, 300);
              observer.disconnect();
            }
          }, { threshold: 0.1 });
          observer.observe(hero);
        }
      } else {
        hideNavbarMobile();
      }
    }
    window.addEventListener('resize', loadNavbarMobile);
    window.addEventListener('DOMContentLoaded', loadNavbarMobile);

    // Cargar dinámicamente las cards
    fetch('./components/cards.html')
      .then(res => res.text())
      .then(html => {
        document.getElementById('cards').innerHTML = html;
      });

    // Cargar footer
    fetch('./components/footer.html')
      .then(res => res.text())
      .then(html => {
        document.getElementById('footer').innerHTML = html;
        window.initFooter && window.initFooter();
      });
  </script>
  <script type="text/javascript">

function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en'}, 'google_translate_element');
}
</script>
  <!-- navbar-dropdown.js se importa dinámicamente después de cargar la navbar -->
  <script src="./js/footer.js"></script>
  <script src="./js/main.js"></script>
  <script src="./js/cards-anim.js"></script>
  <script src="./js/valores-toggle.js"></script>
</body>
</html>